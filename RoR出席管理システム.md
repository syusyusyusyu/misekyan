# セットアップガイド - デモ出席フロー

RoR出席管理システムのクラス作成からQR出席完了までの一連の流れを説明します。

**URL**: https://attendance-krjl.onrender.com

---

## 1. 教員でログイン

1. 上記URLにアクセスするとログイン画面が表示される
2. 「**教員でログイン**」ボタンをクリック（デモ用ログインセクション内）
   - メールアドレスとパスワードが自動入力される
   - メール: `teacher@example.com`
   - パスワード: `password`
3. 「**ログイン**」ボタンをクリック
4. 教員ダッシュボードに遷移する

---

## 2. クラスを作成

1. サイドバーの「**クラス管理**」をクリック
2. クラス一覧画面で「**新規作成**」ボタンをクリック
3. 以下の項目を入力する：

| 項目 | 入力値 |
|------|--------|
| クラス名 | `Webアプリケーション開発` （任意） |
| 科目 | `情報工学` （任意） |
| 年度 | `2026` |
| 教室 | プルダウンから選択（例: `3A教室`） |
| 学期 | `前期` |
| 定員 | `30` （任意） |
| 曜日 | `土`（土曜日） |
| 時限 | プルダウンから選択（例: `今の時間から1時間`） |

4. 「**登録する**」ボタンをクリック
5. クラス詳細画面に遷移する

---

## 3. 学生をクラスに追加

1. クラス詳細画面の「**履修者**」セクションを確認
2. 入力欄に学生IDを入力：
   ```
   S12345
   ```
3. 「**追加**」ボタンをクリック
4. 履修者リストに「**山田太郎**（S12345 / student@example.com）」が追加される

---

## 4. QRコードを発行（教員PC）

1. サイドバーの「**QRコード発行**」をクリック
2. 「出席QR発行」画面が表示される
3. クラス選択プルダウンから先ほど作成したクラス（例: `Webアプリケーション開発`）を選択
4. 「**出席QRを発行**」ボタンをクリック
5. QRコードが画面に表示される
   - 有効期限と残り時間が表示される
   - 期限切れ時は自動で新しいQRに更新される

> このQRコード画面をPC（またはタブレット）で表示したまま、次のステップに進みます。

---

## 5. 学生でログイン（スマホ）

1. スマホのブラウザで https://attendance-krjl.onrender.com にアクセス
2. 「**学生でログイン**」ボタンをタップ（デモ用ログインセクション内）
   - メール: `student@example.com`
   - パスワード: `password`
3. 「**ログイン**」ボタンをタップ
4. 学生ダッシュボードに遷移する

---

## 6. QRスキャンで出席登録（スマホ）

1. サイドバー（またはメニュー）の「**QRスキャン**」をタップ
2. 「QRスキャン」画面が表示される
3. 「**カメラを開始**」ボタンをタップ
4. カメラの使用許可を求められたら「**許可**」をタップ
5. 位置情報の使用許可を求められたら「**許可**」をタップ
6. スマホのカメラをPC画面のQRコードに向ける
7. QRコードが枠内に入ると自動で読み取られる
   - 「QRコードを読み取りました。送信中...」と表示される
8. **出席登録完了** - 入室が記録される

> カメラが使えない場合は「**手入力**」ボタンから QRコード文字列を直接入力することもできます。

---

## 7. 出席確認

### 教員側（PC）
- サイドバーの「**出席確認**」からクラスを選択すると、山田太郎の出席状況を確認できる

### 学生側（スマホ）
- サイドバーの「**出席履歴**」から自分の出席記録を確認できる

---

## デモアカウント一覧

| ロール | 名前 | メール | パスワード | 学生ID |
|--------|------|--------|------------|--------|
| 教員 | 鈴木一郎 | teacher@example.com | password | - |
| 学生 | 山田太郎 | student@example.com | password | S12345 |
| 管理者 | 管理者 | admin@example.com | password | - |

---

## 注意事項

- **QRコードの有効期限**: QRコードには有効期限があり、自動で更新されます。期限切れのQRを読み取ってもエラーになります。
- **入室/退室**: 1回目のスキャンで「入室」、2回目のスキャンで「退室」が記録されます。
